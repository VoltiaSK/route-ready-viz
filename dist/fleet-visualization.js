var l=Object.defineProperty;var a=(t,n,e)=>n in t?l(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var i=(t,n,e)=>a(t,typeof n!="symbol"?n+"":n,e);import{q as r,n as c,F as d}from"./assets/FleetVisualization-CTvk97JT.js";class u extends HTMLElement{constructor(){super(...arguments);i(this,"root",null);i(this,"_jsonUrl",null);i(this,"shadowContainer",null)}static get observedAttributes(){return["data-url"]}get jsonUrl(){return this._jsonUrl}set jsonUrl(e){this._jsonUrl=e,this.render()}connectedCallback(){console.log("FleetVisualization web component connecting to DOM"),this.shadowContainer=document.createElement("div"),this.shadowContainer.style.width="100%",this.shadowContainer.style.height="100%",this.appendChild(this.shadowContainer),this._jsonUrl=this.getAttribute("data-url");const e=document.createElement("link");e.rel="stylesheet",e.href=`${this.getBaseUrl()}/assets/main-0TLJJYYs.css`,document.head.appendChild(e),console.log("Component styles injected from:",`${this.getBaseUrl()}/assets/main-0TLJJYYs.css`),setTimeout(()=>{this.shadowContainer&&(console.log("Creating React root for FleetVisualization"),this.root=r.createRoot(this.shadowContainer),this.render())},0)}attributeChangedCallback(e,s,o){e==="data-url"&&s!==o&&(console.log("FleetVisualization data-url changed:",o),this._jsonUrl=o,this.render())}disconnectedCallback(){console.log("FleetVisualization web component disconnecting from DOM"),this.root&&(this.root.unmount(),this.root=null)}getBaseUrl(){const e=document.getElementsByTagName("script");let s="";for(let o=0;o<e.length;o++)if(e[o].src.includes("fleet-visualization.js")){s=e[o].src;break}return s?s.substring(0,s.lastIndexOf("/")):(console.warn("Could not find fleet-visualization.js script tag"),"")}render(){if(!this.root){console.warn("Cannot render FleetVisualization - React root not created yet");return}console.log("Rendering FleetVisualization with jsonUrl:",this._jsonUrl),this.root.render(c.createElement(d,{jsonUrl:this._jsonUrl||void 0}))}}customElements.get("fleet-visualization")||(console.log("Defining fleet-visualization custom element"),customElements.define("fleet-visualization",u));console.log("Fleet Visualization Web Component loaded");window.addEventListener("DOMContentLoaded",()=>{console.log("DOM fully loaded, Fleet Visualization Web Component ready");const t=document.getElementsByTagName("fleet-visualization");console.log(`Found ${t.length} fleet-visualization elements on the page`)});
